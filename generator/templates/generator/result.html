<h2>Generated Test Cases</h2>

<p><strong>Requirement:</strong> {{ requirement }}</p>

<div style="margin-bottom: 20px;">
    <a href="{% url 'test_cases_json' %}" target="_blank" style="background: #007cba; color: white; padding: 8px 16px; text-decoration: none; border-radius: 4px;">
        üìÑ View as JSON
    </a>
</div>

<table border="1" cellpadding="8" style="width: 100%; border-collapse: collapse;">
  <tr style="background-color: #f5f5f5;">
    <th style="width: 15%;">Title</th>
    <th style="width: 20%;">Description</th>
    <th style="width: 10%;">Type</th>
    <th style="width: 10%;">Priority</th>
    <th style="width: 22.5%;">Selenium Code</th>
    <th style="width: 22.5%;">Pytest Code</th>
  </tr>
  {% for case in testcases %}
  <tr>
    <td>
        <strong>{{ case.title|default:"(No title)" }}</strong>
        <br><small>ID: {{ case.id|default:"N/A" }}</small>
        <br><a href="{% url 'test_case_json' case.id %}" target="_blank" style="font-size: 11px;">JSON</a>
    </td>
    <td>{{ case.description|default:"(No description)" }}</td>
    <td>{{ case.type|default:"Functional" }}</td>
    <td>{{ case.priority|default:"Medium" }}</td>
    <td>
        <details>
            <summary style="cursor: pointer; color: #007cba;">View Code</summary>
            <pre style="background: #f8f8f8; padding: 10px; margin: 5px 0; overflow-x: auto; font-size: 12px;"><code>{{ case.selenium_code|default:"# No Selenium code available" }}</code></pre>
        </details>
    </td>
    <td>
        <details>
            <summary style="cursor: pointer; color: #007cba;">View Code</summary>
            <pre style="background: #f8f8f8; padding: 10px; margin: 5px 0; overflow-x: auto; font-size: 12px;"><code>{{ case.pytest_code|default:"# No Pytest code available" }}</code></pre>
        </details>
    </td>
  </tr>
  {% endfor %}
</table>

<br>
<div style="margin-top: 20px;">
    <a href="{% url 'home' %}">‚Üê Generate Again</a> | 
    <a href="{% url 'test_cases_json' %}" target="_blank">Download JSON</a>
</div>